---
layout: post
title:  "k8s报错处理"
date:   2019-01-15 11:19:09
categories:  k8s
tags: k8s
excerpt: 
mathjax: true
---

```
Failed create pod sandbox: rpc error: code = Unknown desc = failed to set up sandbox container "564ae4cef6358447e0d22261b726ef49539593216755b0d331a0eb9bf0b724b1" network for pod "nginx": networkPlugin cni failed to set up pod "nginx_default" network: open /run/flannel/subnet.env: no such file or directory
```

vi /run/flannel/subnet.env
```
FLANNEL_NETWORK=10.244.0.0/16
FLANNEL_SUBNET=10.244.0.1/24
FLANNEL_MTU=1450
FLANNEL_IPMASQ=true
```
或者可能是
kubeadm init时没有添加
--pod-network-cidr=10.244.0.0/16
如果环境允许可以 kubeadm reset 重置后再重新init
